var messages = [
    "Thanks a bunch!",
    "Much obliged!",
    "We're deeply grateful.",
    "We can't thank you enough.",
    "You've been a lifesaver!",
    "We owe you one.",
    "It means the world to us.",
    "We appreciate your kindness.",
    "You're a true friend.",
    "Our sincerest thanks.",
    "You're a gem!",
    "You're a star!",
    "We're in your debt.",
    "You're the best!",
    "We can never repay you.",
    "We're touched by your generosity.",
    "You've made Our day!",
    "You're a lifesaver!",
    "You make a difference.",
    "We're thankful for your support.",
    "We're indebted to you.",
    "You're a true blessing.",
    "You're a hero!",
    "You're a rockstar!",
    "You've been so kind.",
    "We're forever grateful.",
    "You're a godsend!",
    "We're over the moon!",
    "You've been wonderful.",
    "You're incredible!",
    "We can't express Our gratitude enough.",
    "You've been a great help.",
    "We're thankful for your assistance.",
    "You're a lifesaver!",
    "You're a true friend.",
    "We appreciate your support.",
    "You're a wonderful person.",
    "You've been amazing.",
    "We can't thank you sufficiently.",
    "You're a true hero!",
    "You're a true blessing.",
    "You're a lifesaver!",
    "We're eternally grateful.",
    "You're a lifesaver!",
    "You're a true gem.",
    "You've been a great friend.",
    "We're thankful for your presence.",
    "You're a ray of sunshine.",
    "You're a treasure.",
    "You're one in a million.",
    "You're a superstar!",
    "We're grateful beyond words.",
    "You're Our savior!",
    "We're deeply appreciative.",
    "You've made a big difference.",
    "You're a true saint.",
    "We're filled with gratitude.",
    "You're an angel in disguise.",
    "You're a true star.",
    "You're a blessing in Our life.",
    "You're a miracle worker!",
    "You're Our hero!",
    "You're a gift from heaven.",
    "We're forever in your debt.",
    "You're a lifesaver!",
    "You're a true friend indeed.",
    "You're a true inspiration.",
    "We're deeply moved.",
    "You're a beacon of light.",
    "You're a true legend.",
    "We're overwhelmed with gratitude.",
    "You're a true warrior.",
    "You're a true champion.",
    "We're thankful for your wisdom.",
    "You're a true role model.",
    "You're a true mentor.",
    "You're a true leader.",
    "You're a true visionary.",
    "You're a true artist.",
    "You're a true genius.",
    "You're a true innovator.",
    "You're a true pioneer.",
    "You're a true trailblazer.",
    "You're a true legend.",
    "You're a true hero.",
    "You're a true genius.",
    "You're a true artist.",
    "You're a true leader.",
    "You're a true visionary.",
    "You're a true mentor.",
    "You're a true role model.",
    "You're a true champion.",
    "You're a true warrior.",
    "You're a beacon of light.",
    "You're a true inspiration.",
    "We're deeply moved.",
    "You're a true friend indeed.",
    "You're a lifesaver!",
    "We're forever in your debt.",
    " You're Our hero!",
    " You're a gift from heaven.",
    " You're a true star.",
    " You're an angel in disguise.",
    " We're filled with gratitude.",
    " You're a true saint.",
    " You've made a big difference.",
    " You're deeply appreciated.",
    " We're thankful for your help.",
    " You're a true gem.",
    " You're a treasure.",
    " You're one in a million.",
    " You're a superstar!",
    " We're grateful beyond words.",
    " You're Our savior!",
    " We're deeply grateful.",
    " You're a ray of sunshine.",
    " You're a blessing in Our life.",
    " You're a miracle worker!",
    " You've been amazing.",
    " We can't thank you sufficiently.",
    " You're a true hero!",
    " You're a true blessing.",
    " You're a lifesaver!",
    " We're eternally grateful.",
    " You're a lifesaver!",
    " You're a true friend.",
    " Weappreciate your support.",
    " You're a wonderful person.",
    " You've been wonderful.",
    " We can't express Our gratitude enough.",
    " You're a true hero!",
    " You're a true blessing.",
    " You're a lifesaver!",
    " We're overwhelmed with gratitude.",
    " You're a true warrior.",
    " You're a true champion.",
    " We're thankful for your wisdom.",
    " You're a true role model.",
    " You're a true mentor.",
    " You're a true leader.",
    " You're a true visionary.",
    " You're a true artist.",
    " You're a true genius.",
    " You're a true innovator.",
    " You're a true pioneer.",
    " You're a true trailblazer.",
    " You're a true legend.",
    " You're a true hero.",
    " You're a true genius.",
    " You're a true artist.",
    " You're a true leader.",
    " You're a true visionary.",
    " You're a true mentor.",
    " You're a true role model.",
    " You're a true champion.",
    " You're a true warrior.",
    " You're a beacon of light.",
    " You're a true inspiration.",
    " We're deeply moved.",
    " You're a true friend indeed.",
    " You're a lifesaver!",
    " We're forever in your debt.",
    " You're Our hero!",
    " You're a gift from heaven.",
    " You're a true star.",
    " You're an angel in disguise.",
    " We're filled with gratitude.",
    " You're a true saint.",
    " You've made a big difference.",
    " You're deeply appreciated.",
    " We're thankful for your help.",
    " You're a true gem.",
    " You're a treasure.",
    " You're one in a million.",
    " You're a superstar!",
    " We're grateful beyond words.",
    " You're Our savior!",
    " We're deeply grateful.",
    " You're a ray of sunshine.",
    " You're a blessing in Our life.",
    " You're a miracle worker!",
    " You've been amazing.",
    " We can't thank you sufficiently.",
    " You're a true hero!",
    " You're a true blessing.",
    " You're a lifesaver!",
    " We're eternally grateful.",
    " You're a lifesaver!",
    " You're a true friend.",
    " We appreciate your support.",
    " You're a wonderful person.",
    " You've been wonderful.",
    " We can't express Our gratitude enough.",
    " You're a true hero!",
    " You're a true blessing.",
    " You're a lifesaver!",
    " We're overwhelmed with gratitude.",
    " You're a true warrior.",
    " You're a true champion.",
    " We're thankful for your wisdom.",
    " You're a true role model.",
    " You're a true mentor.",
    " You're a true leader.",
    " You're a true visionary.",
    " You're a true artist.",
    " You're a true genius.",
    " You're a true innovator.",
    " You're a true pioneer.",
    " You're a true trailblazer.",
    " You're a true legend.",
    " You're a true hero.",
    " You're a true genius.",
    " You're a true artist.",
    " You're a true leader.",
    " You're a true visionary.",
    " You're a true mentor.",
    " You're a true role model.",
    " You're a true champion.",
    " You're a true warrior.",
    " You're a beacon of light.",
    " You're a true inspiration.",
    " We're deeply moved.",
    " You're a true friend indeed.",
    " You're a lifesaver!",
    " We're forever in your debt.",
    " You're Our hero!",
    " You're a gift from heaven.",
    " You're a true star.",
    " You're an angel in disguise.",
    " We're filled with gratitude.",
    " You're a true saint.",
    " You've made a big difference.",
    " You're deeply appreciated.",
    " We're thankful for your help.",
    " You're a true gem.",
    " You're a treasure.",
    " You're one in a million.",
    " You're a superstar!",
    " We're grateful beyond words.",
    " You're Our savior!",
    " We're deeply grateful.",
    " You're a ray of sunshine.",
    " You're a blessing in Our life.",
    " You're a miracle worker!",
    " You've been amazing.",
    " We can't thank you sufficiently.",
    " You're a true hero!",
    " You're a true blessing.",
    " You're a lifesaver!",
    " We're eternally grateful.",
    " You're a lifesaver!",
    " You're a true friend.",
    " We appreciate your support.",
    " You're a wonderful person.",
    " You've been wonderful.",
    " We can't express Our gratitude enough.",
    " You're a true hero!",
    " You're a true blessing.",
    " You're a lifesaver!",
    " We're overwhelmed with gratitude.",
    " You're a true warrior.",
    " You're a true champion.",
    " We're thankful for your wisdom.",
    " You're a true role model.",
    " You're a true mentor.",
    " You're a true leader.",
    " You're a true visionary.",
    " You're a true artist.",
    " You're a true genius.",
    " You're a true innovator.",
    " You're a true pioneer.",
    " You're a true trailblazer.",
    " You're a true legend.",
    " You're a true hero.",
    " You're a true genius.",
    " You're a true artist.",
    " You're a true leader.",
    " You're a true visionary.",
    " You're a true mentor.",
    " You're a true role model.",
    " You're a true champion.",
    " You're a true warrior.",
    " You're a beacon of light.",
    " You're a true inspiration.",
    " We're deeply moved.",
    " You're a true friend indeed.",
    " You're a lifesaver!",
    " We're forever in your debt.",
    " You're Our hero!",
    " You're a gift from heaven.",
    " You're a true star.",
    " You're an angel in disguise.",
    " We're filled with gratitude.",
    " You're a true saint.",
    " You've made a big difference.",
    " You're deeply appreciated.",
    " We're thankful for your help.",
    " You're a true gem.",
    " You're a treasure.",
    " You're one in a million"];

var index = 0;

function startExplosionAnimation(element, timeout, x, y) {
    setTimeout(function () {
        const explosionDuration = 1000; // Duration of the explosion animation in milliseconds
        const explosionVelocityX = (Math.random()) * 100 * x; // Random horizontal velocity
        const explosionVelocityY = (Math.random()) * 100 * y; // Random vertical velocity

        element.style.animation = `explode ${explosionDuration}ms ease-in-out`;
        element.style.transform = `translate(${explosionVelocityX}px, ${explosionVelocityY}px)`;
        // element.style.opacity = "0"; // Make the element invisible during the explosion

        // Remove the element from the DOM after the explosion animation finishes
        setTimeout(() => {
            // element.remove();
        }, explosionDuration);
    }, timeout)
}

var totalMilliseconds = 0;
var globalTimeout = 0;
var totalNeededMilliseconds = 15623;

function showEverything2(timeout) {
    newFunction();
    totalMilliseconds += timeout;
    if (index > 1500) {
        setTimeout(function () {
            // document.getElementsByTagName("body")[0].innerHTML = "\n" +
            //     "<div id=\"terminal\">\n" +
            //     "    <h1>Thank You Cody for all you do for us!</h1>\n" +
            //     "    <button id=\"showMessage\">Generate Thank You</button>\n" +
            //     "    <div class=\"message-container\">\n" +
            //     "        <pre id=\"message\">Thank You</pre>\n" +
            //     "    </div>\n" +
            //     "</div>";
            // startExplosionAnimation()

            startFallingAnimation("terminal");
            startFallingAnimationClass("removeme");
        }, 1000)

        return;
    }
    index++;
    if (timeout > 700) {
        timeout -= 100;
    } else if (timeout > 100) {
        timeout -= 50;
    } else if (timeout > 2) {
        timeout -= 1;
    }
    console.log(totalMilliseconds)
    globalTimeout = timeout;
    let element = document.getElementById('showMessage');
    setTimeout(function () {
        // element.click();
        showEverything2(timeout)
    }, timeout);
}

function startFallingAnimationClass(elementname) {
    const messageWrapper = document.getElementsByClassName(elementname);
    // const showMessageButton = document.getElementById("showMessage");
    for (let i = 0; i < messageWrapper.length; i++) {
        messageWrapper[i].style.animation = "fall 1s forwards"; // Start the animation

    }
    setTimeout(function () {
        document.getElementsByTagName("body")[0].innerHTML = '';
    }, 1100)
    setTimeout(function () {

        // document.getElementsByTagName("error-screen")[0].style = `background-color: #0078D7;
        // color: white;
        // font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        // text-align: center;
        // padding-top: 100px;`

        document.getElementsByTagName("body")[0].innerHTML = `
        <div class="error-screen-container">
        <div class="error-screen">
        <div class="sad-face">:(</div>
        <div class="error-message">Your PC ran into a problem and needs to restart. We're just collecting some error info, and then we'll restart for you.</div>
        <div class="progress">
            <span id="percentage">0</span>% complete
        </div>
        <div class="info">
            For more information about this issue and possible fixes, visit <a href="https://www.windows.com/stopcode" style="color: #aad">https://www.windows.com/stopcode</a>
        </div>
        </div>
</div>
`;

        let t = 2000;
        setTimeout(function () {
            document.getElementById('percentage').innerText = "17"
        }, t);
        setTimeout(function () {
            document.getElementById('percentage').innerText = "44"
        }, t + 1500);
        setTimeout(function () {
            document.getElementById('percentage').innerText = "71"
        }, t + 3000);
        setTimeout(function () {
            document.getElementById('percentage').innerText = "92"
        }, t + 4500);
        setTimeout(function () {
            document.getElementById('percentage').innerText = "100"
        }, t + 6000);
        setTimeout(function () {
            document.getElementsByTagName("body")[0].innerHTML = `
            <div class="terminal" id="terminal">
    <h1 id="myh1">Thank You Cody for all you do for us!</h1>
    <button id="showMessage">Generate Thank You</button>
    <div class="message-container">
        <pre id="message">Thank You</pre>
    </div>
</div>
            `;
            document.exitFullscreen()

            const messageElement = document.getElementById("message");
            const showMessageButton = document.getElementById("showMessage");

            showMessageButton.addEventListener("click", function () {
                document.body.requestFullscreen();
                showEverything2(1000)
            });
        }, t + 9500);

    }, 4000)
    // showMessageButton.disabled = true; // Disable the button to prevent multiple triggers
}

function startFallingAnimation(elementname) {
    const messageWrapper = document.getElementById(elementname);
    // const showMessageButton = document.getElementById("showMessage");

    messageWrapper.style.animation = "fall 2s forwards"; // Start the animation
    // showMessageButton.disabled = true; // Disable the button to prevent multiple triggers
}

document.addEventListener("DOMContentLoaded", function () {
    const messageElement = document.getElementById("message");
    const showMessageButton = document.getElementById("showMessage");

    showMessageButton.addEventListener("click", function () {
        document.body.requestFullscreen();
        showEverything2(1000)
    });

});

function newFunction() {
    const messageElement = document.getElementById("message");
    const showMessageButton = document.getElementById("showMessage");

    console.log('made it here');
    const randomIndex = Math.floor(Math.random() * messages.length);
    const randomMessage = messages[index % 299];
    messageElement.textContent = randomMessage;
    const newMessageElement = document.createElement("pre");
    newMessageElement.textContent = randomMessage;
    newMessageElement.className = "removeme";
    newMessageElement.style.whiteSpace = "pre-wrap";
    newMessageElement.style.fontFamily = "monospace";

    // Get a random position on the page
    const randomX = Math.floor(Math.random() * (window.innerWidth - 200)); // Adjust 200 based on your message size
    const randomY = Math.floor(Math.random() * (window.innerHeight - 50)); // Adjust 50 based on your message size

    // Set the position of the new message element
    newMessageElement.style.position = "absolute";
    newMessageElement.style.left = `${randomX}px`;
    newMessageElement.style.top = `${randomY}px`;

    // Append the message element to the body
    // startExplosionAnimation(newMessageElement, totalNeededMilliseconds - totalMilliseconds,
    //
    //     (randomX > window.innerWidth / 2) ? 1 : -1,
    //     (randomY > window.innerHeight / 2 ? 1 : -1)
    // );
    document.body.appendChild(newMessageElement);
}
